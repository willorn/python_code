### 1.ä»€ä¹ˆæ˜¯ç´¢å¼•
- å®˜æ–¹å®šä¹‰: ä¸€ç§å¸®åŠ© MySQLæ•°æ®åº“ æé«˜æŸ¥è¯¢æ•ˆç‡çš„æ•°æ®ç»“æ„
- ç´¢å¼•çš„ä¼˜ç‚¹: 
  - å¤§å¤§åŠ å¿«æ•°æ®æŸ¥è¯¢é€Ÿåº¦
- ç´¢å¼•çš„ç¼ºç‚¹: 
  - 1ã€ç»´æŠ¤ç´¢å¼•éœ€è¦è€—è´¹æ•°æ®åº“èµ„æº
  - 2ã€ç´¢å¼•éœ€è¦å ç”¨ç£ç›˜ç©ºé—´
  - 3ã€å½“å¯¹è¡¨çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹çš„æ—¶å€™ï¼Œå› ä¸ºè¦ç»´æŠ¤ç´¢å¼•ï¼Œé€Ÿåº¦ä¼šå—åˆ°å½±å“
### 2.ç´¢å¼•åˆ†ç±»
- **ä¸»é”®ç´¢å¼•**  
  - ä¸»é”®ï¼šå”¯ä¸€æ ‡è¯†ä¸€æ¡è®°å½•ï¼Œä¸èƒ½æœ‰é‡å¤çš„ï¼Œä¸å…è®¸ä¸ºç©º
  - ç´¢å¼•ï¼šè¯¥å­—æ®µæ²¡æœ‰é‡å¤å€¼ï¼Œä½†å¯ä»¥æœ‰ä¸€ä¸ªç©ºå€¼
  - è®¾å®šä¸ºä¸»é”®åæ•°æ®åº“ä¼šè‡ªåŠ¨å»ºç«‹ç´¢å¼•ï¼ŒinnoDB ä¸ºèšç°‡ç´¢å¼•
- **å”¯ä¸€ç´¢å¼•**
  - ç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œä½†å…è®¸æœ‰ç©ºå€¼
- **å•å€¼ç´¢å¼•** å•å€¼ç´¢å¼• æ™®é€šç´¢å¼•
  - å³ä¸€ä¸ªç´¢å¼•åªåŒ…å«å•ä¸ªåˆ—ï¼Œä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¤šä¸ªå•åˆ—ç´¢å¼• 
- **è”åˆç´¢å¼•**  å¤åˆç´¢å¼•)
  - å³ä¸€ä¸ªç´¢å¼•åŒ…å«å¤šä¸ªåˆ— 
- **Full Text å…¨æ–‡ç´¢å¼•** 
  - My5.7ç‰ˆæœ¬ä¹‹å‰ åªèƒ½ç”¨åœ¨MYISAMå¼•æ“ä¸Š
  - å…¨æ–‡ç´¢å¼•ç±»å‹ä¸ºFULLTEXTï¼Œåœ¨å®šä¹‰ç´¢å¼•çš„åˆ—ä¸Šæ”¯æŒå€¼çš„å…¨æ–‡æŸ¥æ‰¾ï¼Œå…è®¸åœ¨è¿™äº›ç´¢å¼•åˆ—ä¸­æ’å…¥é‡å¤å€¼å’Œç©ºå€¼ã€‚å…¨æ–‡ç´¢å¼•å¯ä»¥åœ¨CHARã€VARCHARã€ TEXTç±»å‹åˆ—ä¸Šåˆ›å»ºã€‚
  - MYSQLåªæœ‰MYISAMå­˜å‚¨å¼•æ“æ”¯æŒå…¨æ–‡ç´¢å¼• 



å¯¹äº**è”åˆç´¢å¼•**ï¼š

è”åˆç´¢å¼•çš„åˆ›å»ºåŸåˆ™ï¼Œåœ¨åˆ›å»ºè”åˆç´¢å¼•çš„æ—¶å€™å› è¯¥æŠŠé¢‘ç¹ä½¿ç”¨çš„åˆ—ã€åŒºåˆ†åº¦é«˜çš„åˆ—æ”¾åœ¨å‰é¢ï¼Œé¢‘ç¹ä½¿ç”¨ä»£è¡¨ç´¢å¼•åˆ©ç”¨ç‡é«˜ï¼ŒåŒºåˆ†åº¦é«˜ä»£è¡¨ç­›é€‰ç²’åº¦å¤§ï¼Œè¿™äº›éƒ½æ˜¯åœ¨ç´¢å¼•åˆ›å»ºçš„éœ€è¦è€ƒè™‘åˆ°çš„ä¼˜åŒ–åœºæ™¯ï¼Œä¹Ÿå¯ä»¥åœ¨å¸¸éœ€è¦ä½œä¸ºæŸ¥è¯¢è¿”å›çš„å­—æ®µä¸Šå¢åŠ åˆ°è”åˆç´¢å¼•ä¸­ï¼Œå¦‚æœåœ¨è”åˆç´¢å¼•ä¸Šå¢åŠ ä¸€ä¸ªå­—æ®µè€Œä½¿ç”¨åˆ°äº†è¦†ç›–ç´¢å¼•ï¼Œé‚£å»ºè®®è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨è”åˆç´¢å¼•ã€‚

```markdown
ã€åœºæ™¯ã€‘ï¼šåœ¨å­¦ç”Ÿç®¡ç†ç³»ç»Ÿé‡Œé¢éœ€è¦å»æŸ¥æŸä¸ªå­¦ç”Ÿçš„ç”µè¯å·ç ã€‚
å»ºç«‹ç´¢å¼•ä¸€å®šæ˜¯è¿™æ ·çš„ï¼šcreate index phoneQuick on student_info(school, grade, class, phone);

ã€åœºæ™¯ã€‘ï¼šåœ¨å­¦ç”Ÿç®¡ç†ç³»ç»Ÿé‡Œé¢éœ€è¦å»æŸ¥æŸä¸ªå­¦ç”Ÿçš„student_idã€‚
å»ºç«‹ç´¢å¼•ä¸€å®šæ˜¯è¿™æ ·çš„ï¼šcreate index phoneQuick on student_info(school, grade, class, student_id);
```

### 3.ç´¢å¼•çš„åŸºæœ¬æ“ä½œ

### 3.1 ä¸»é”®ç´¢å¼•

> å»ºè¡¨çš„æ—¶å€™è‡ªåŠ¨åˆ›å»ºï¼Œä¸éœ€è¦æ‰‹åŠ¨åˆ›å»º

```sql
-- å»ºè¡¨ ä¸»é”®è‡ªåŠ¨åˆ›å»ºä¸»é”®ç´¢å¼• 
create table t_user(
    id varchar(20) primary key,
    name varchar(20)
); 

-- æŸ¥çœ‹ç´¢å¼• 
show index from t_user;
```

<img alt="image" src="https://img-blog.csdnimg.cn/img_convert/17976888b7e6adf9c7bf1ab3b299b81e.png">

#### 3.2 å•åˆ—ç´¢å¼•

(æ™®é€šç´¢å¼•|å•å€¼ç´¢å¼•) 

```sql
--å»ºè¡¨æ—¶åˆ›å»º 
create table t_user(
    id varchar(20) primary key,
    name varchar(20), key(name)  -- 'æ³¨æ„:éšè¡¨ä¸€èµ·å»ºç«‹çš„ç´¢å¼•ç´¢å¼•ååŒåˆ—åä¸€è‡´'
);


--å»ºè¡¨ååˆ›å»º 
create index [index_name] on [table_name]([field]);
create index nameindex on t_user(name);

--åˆ é™¤ç´¢å¼• 
drop index ç´¢å¼•å on è¡¨å;
drop index nameindex on t_user;
```

<img alt="image" src="https://img-blog.csdnimg.cn/img_convert/7998587146756815276c97671b568e0d.png">

```
show index from t_user;
```

![image-20221221230841818](https://q-1306233034.cos.ap-guangzhou.myqcloud.com/company/202212212326397.png?tximg)

#### 3.3 å”¯ä¸€ç´¢å¼• 

```sql
--å»ºè¡¨æ—¶åˆ›å»º 
create table t_user(
    id varchar(20) primary key,
    name varchar(20), unique(name)  -- å”¯ä¸€ç´¢å¼•
);

--å»ºè¡¨ååˆ›å»º 
create unique index nameindex on t_user(name);
```

<img alt="image" src="https://img-blog.csdnimg.cn/img_convert/66b299ddf2a027a6b7958d1f9420f2c2.png">

#### 3.4 å¤åˆç´¢å¼•_å¸¸ç”¨

```sql
---å»ºè¡¨æ—¶åˆ›å»º 
create table t_user(
    id varchar(20) primary key,
    name varchar(20),
    age int,
    key(name,age)  -- è”åˆç´¢å¼•
);

--å»ºè¡¨ååˆ›å»º 
create index nameageindex on t_user(name,age);
```

<img alt="image" src="https://img-blog.csdnimg.cn/img_convert/c16855c15ca0be73d3cb11b8196c5165.png">

**æœ€å·¦å‰ç¼€åŸåˆ™**ï¼Œå·¦åŒ…å«åŸåˆ™

è”åˆç´¢å¼•ï¼ˆa_b_cï¼‰ç­‰ä»·äºï¼ˆaï¼Œa_bï¼Œa_b_cï¼‰ä¸‰ä¸ªç´¢å¼•



### 4.ç´¢å¼•çš„åº•å±‚åŸç†

1.æ€è€ƒ 

```sql
---å»ºè¡¨ 
create table t_emp(
    id int primary key, -- ä¸»é”®ç´¢å¼•
    name varchar(20),
    age int
);

--æ’å…¥æ•°æ® 
insert into t_emp values(5,'d',22); 
insert into t_emp values(6,'d',22); 
insert into t_emp values(7,'e',21); 
insert into t_emp values(1,'a',23); 
insert into t_emp values(2,'b',26); 
insert into t_emp values(3,'c',27); 
insert into t_emp values(4,'a',32); 
insert into t_emp values(8,'f',53); 
insert into t_emp values(9,'v',13);

--æŸ¥è¯¢ 
select * from t_emp;
```

<img alt="image" src="https://q-1306233034.cos.ap-guangzhou.myqcloud.com/company/202212212326727.png?tximg">



#### 4.1 æ€è€ƒï¼šä¹±åºæ’å…¥

> whyï¼šæ²¡æœ‰æŒ‰é¡ºåºæ’å…¥ï¼Œä¸ºä»€ä¹ˆæŸ¥è¯¢æ—¶å´æ˜¯æœ‰é¡ºåºå‘¢ï¼Ÿï¼Ÿ

**åŸå› **ï¼šmysqlåº•å±‚ä¸ºä¸»é”®è‡ªåŠ¨åˆ›å»ºç´¢å¼•,ä¸€å®šåˆ›å»ºç´¢å¼•ä¼šè¿›è¡Œæ’åº

> whyï¼šé‚£åˆä¸ºä»€ä¹ˆè¦æ’åºå‘¢ï¼Ÿï¼Ÿï¼Ÿ

å› ä¸ºæ’åºä¹‹ååœ¨æŸ¥è¯¢å°±ç›¸å¯¹æ¯”è¾ƒå¿«äº† å¦‚æŸ¥è¯¢ id=3çš„æˆ‘åªéœ€è¦æŒ‰ç…§é¡ºåºæ‰¾åˆ°3å°±è¡Œå•¦(å¦‚æœæ²¡æœ‰æ’åºå¤§æµ·æé’ˆ,å…¨é è¿æ°”ğŸ˜¸!)



> ä¸ºäº†è¿›ä¸€æ­¥æé«˜æ•ˆç‡mysqlç´¢å¼•åˆè¿›è¡Œäº†ä¼˜åŒ–

mysqlåº•å±‚çœŸæ­£å­˜å‚¨æ˜¯è¿™æ ·çš„ï¼š**æŒ‰é¡µç®¡ç†æ•°æ®**

- åŸºäºé¡µçš„å½¢å¼è¿›è¡Œç®¡ç†ç´¢å¼•
- å¦‚ æŸ¥è¯¢id=4çš„ ç›´æ¥å…ˆæ¯”è¾ƒé¡µ å…ˆå»é¡µç›®å½•ä¸­æ‰¾,å†å» æ•°æ®ç›®å½•ä¸­æ‰¾

![image-20221221233104288](https://q-1306233034.cos.ap-guangzhou.myqcloud.com/company/202212212331491.png?tximg)





#### 4.2 ä»€ä¹ˆæ˜¯B+æ ‘
- å‚è€ƒèµ„æ–™: 
<img alt="image" src="https://img-blog.csdnimg.cn/img_convert/0feb1be2306fe4083089d930d0e555c4.png">

B+Treeæ˜¯åœ¨B-TreeåŸºç¡€ä¸Šçš„ä¸€ç§ä¼˜åŒ–ï¼Œä½¿å…¶æ›´é€‚åˆå®ç°å¤–å­˜å‚¨ç´¢å¼•ç»“æ„ï¼ŒInnoDBå­˜å‚¨å¼•æ“å°±æ˜¯ç”¨B+Treeå®ç°å…¶ç´¢å¼•ç»“æ„ã€‚

ä»ä¸Šä¸€èŠ‚ä¸­çš„B-Treeç»“æ„å›¾ä¸­å¯ä»¥çœ‹åˆ°æ¯ä¸ªèŠ‚ç‚¹ä¸­ä¸ä»…åŒ…å«æ•°æ®çš„keyå€¼ï¼Œè¿˜æœ‰dataå€¼ã€‚è€Œæ¯ä¸€ä¸ªé¡µçš„å­˜å‚¨ç©ºé—´æ˜¯æœ‰é™çš„ï¼Œå¦‚æœdataæ•°æ®è¾ƒå¤§æ—¶å°†ä¼šå¯¼è‡´æ¯ä¸ªèŠ‚ç‚¹(å³ä¸€ä¸ªé¡µ)èƒ½å­˜å‚¨çš„keyçš„æ•°é‡å¾ˆå°ï¼Œå½“å­˜å‚¨çš„æ•°æ®é‡å¾ˆå¤§æ—¶åŒæ ·ä¼šå¯¼è‡´B-Treeçš„æ·±åº¦è¾ƒå¤§ï¼Œå¢å¤§æŸ¥è¯¢æ—¶çš„ç£ç›˜I/Oæ¬¡æ•°ï¼Œè¿›è€Œå½±å“æŸ¥è¯¢æ•ˆç‡ã€‚åœ¨B+Treeä¸­ï¼Œæ‰€æœ‰æ•°æ®è®°å½•èŠ‚ç‚¹éƒ½æ˜¯æŒ‰ç…§é”®å€¼å¤§å°é¡ºåºå­˜æ”¾åœ¨åŒä¸€å±‚çš„å¶å­èŠ‚ç‚¹ä¸Šï¼Œè€Œéå¶å­èŠ‚ç‚¹ä¸Šåªå­˜å‚¨keyå€¼ä¿¡æ¯ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§åŠ å¤§æ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨çš„keyå€¼æ•°é‡ï¼Œ**é™ä½B+Treeçš„é«˜åº¦**ã€‚

**B+Treeç›¸å¯¹äºB-Treeæœ‰å‡ ç‚¹ä¸åŒï¼š**

1. éå¶å­èŠ‚ç‚¹åªå­˜å‚¨é”®å€¼ä¿¡æ¯
   - å› ä¸ºå¶å­èŠ‚ç‚¹å¤§å°æœ‰é™ï¼Œåªæœ‰16KBï¼Œåªç”¨æ¥å­˜æ”¾keyå°±èƒ½å¤Ÿæ”¾å¾—ä¸‹æ›´å¤šçš„ç´¢å¼•å€¼
   - è¿›è€Œé™ä½äº†æ ‘çš„é«˜åº¦
2. æ‰€æœ‰å¶å­èŠ‚ç‚¹ä¹‹é—´éƒ½æœ‰ä¸€ä¸ªé“¾æŒ‡é’ˆ
   - ä¾¿äºé¡ºåºæŸ¥è¯¢
3. æ•°æ®è®°å½•éƒ½å­˜æ”¾åœ¨å¶å­èŠ‚ç‚¹ä¸­

**ç‰¹ç‚¹ï¼š**

1. InnoDBå­˜å‚¨å¼•æ“ä¸­é¡µçš„å¤§å°ä¸º16KBï¼Œä¸€èˆ¬è¡¨çš„ä¸»é”®ç±»å‹ä¸ºINT(å ç”¨4ä¸ªå­—èŠ‚)æˆ–BIGINT(å ç”¨8ä¸ªå­—èŠ‚)ï¼ŒæŒ‡é’ˆç±»å‹ä¹Ÿä¸€èˆ¬ä¸º4æˆ–8ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªé¡µ(B+Treeä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹)ä¸­å¤§æ¦‚å­˜å‚¨16KB/(8B+8B)=1Kä¸ªé”®å€¼(å› ä¸ºæ˜¯ä¼°å€¼ï¼Œä¸ºæ–¹ä¾¿è®¡ç®—ï¼Œè¿™é‡Œçš„Kå–å€¼ä¸ºã€–10ã€—^3)ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªæ·±åº¦ä¸º3çš„B+Treeç´¢å¼•å¯ä»¥ç»´æŠ¤10^3 * 10^3 * 10^3 = 10äº¿ æ¡è®°å½•ã€‚
   - å–å†³äºå®é™…è®¡ç®—çš„å¤šå°‘ï¼Œä¾‹å¦‚åˆ›å»ºçš„æ˜¯ï¼šint+char(8)+char(4)+int = 20ï¼Œé‚£ä¹ˆç®—å‡ºæ¥çš„å€¼å°±å¤§äº10äº¿æ¡è®°å½•ã€‚æ‰€ä»¥è¯´**ä¸€ä¸ªè¡¨çš„å­—æ®µå¤ªå¤šå°±ä¼šé€ æˆä¸€å®šçš„æ€§èƒ½é—®é¢˜ã€‚**
   - æœ€åº•ä¸‹çš„æ¯é¡µå­˜ä¸äº†é‚£ä¹ˆå¤šçš„æ•°æ®ï¼Œå°±ä¼šå‡ºç°æ€§èƒ½é—®é¢˜ã€‚
2. å®é™…æƒ…å†µä¸­æ¯ä¸ªèŠ‚ç‚¹å¯èƒ½ä¸èƒ½å¡«å……æ»¡ï¼Œå› æ­¤åœ¨æ•°æ®åº“ä¸­ï¼ŒB+Treeçš„é«˜åº¦ä¸€èˆ¬éƒ½åœ¨2-4å±‚ã€‚
   - InnoDBå­˜å‚¨å¼•æ“åœ¨è®¾è®¡æ—¶æ˜¯å°†æ ¹èŠ‚ç‚¹å¸¸é©»å†…å­˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æŸ¥æ‰¾æŸä¸€é”®å€¼çš„è¡Œè®°å½•æ—¶æœ€å¤šåªéœ€è¦1-3æ¬¡ç£ç›˜I/Oæ“ä½œã€‚
   - ä¸€èˆ¬ç”¨åˆ°ä¸¤å±‚B+Treeå°±èƒ½æ»¡è¶³300*10^3 = 30w å¤§æ¦‚èƒ½æ»¡è¶³30-45ä¸‡æ•°æ®é‡çš„å¿«é€ŸæŸ¥è¯¢ï¼Œå› ä¸ºæ ¹èŠ‚ç‚¹å¸¸é©»å†…å­˜ï¼Œä»…éœ€ä¸€æ¬¡ç£ç›˜IOå³å¯æ‰¾åˆ°å¯¹åº”çš„æ•°æ®ã€‚



#### 4.3 èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•

> èšç°‡ç´¢å¼•å°±æ˜¯ç›´æ¥æŠŠæ•°æ®å­˜åˆ°å¶å­èŠ‚ç‚¹ä¸Šï¼Œé¡ºç€æ ‘å°±èƒ½æ‰¾åˆ°æ•°æ®çš„å®é™…ä½ç½®ï¼Œå°‘äº†ä¸€æ¬¡æŸ¥æ‰¾ã€‚
>
> - â€èšâ€œï¼Œå°±æ˜¯æŠŠ [è¡Œæ•°æ®] å’Œ [ä¸»é”®å€¼ ] èšåˆåœ¨ä¸€èµ·äº†
>
> éèšç°‡å°±æ˜¯å­˜æ•°æ®æŒ‡é’ˆï¼Œæ ¹æ®æŒ‡é’ˆå†å»æ‰¾ä¸€éæ•°æ®å®é™…ä½ç½®

-  èšç°‡ç´¢å¼•ï¼š å°†æ•°æ®å­˜å‚¨ä¸ç´¢å¼•æ”¾åˆ°äº†ä¸€å—ï¼Œç´¢å¼•ç»“æ„çš„å¶å­èŠ‚ç‚¹ä¿å­˜äº†è¡Œæ•°æ® 
-  éèšç°‡ç´¢å¼•ï¼šå°†æ•°æ®ä¸ç´¢å¼•åˆ†å¼€å­˜å‚¨ï¼Œç´¢å¼•ç»“æ„çš„å¶å­èŠ‚ç‚¹æŒ‡å‘äº†æ•°æ®å¯¹åº”çš„ä½ç½®



 `æ³¨æ„`:åœ¨innodbä¸­ï¼Œåœ¨èšç°‡ç´¢å¼•ä¹‹ä¸Šåˆ›å»ºçš„ç´¢å¼•ç§°ä¹‹ä¸ºè¾…åŠ©ç´¢å¼•ï¼Œéèšç°‡ç´¢å¼•éƒ½æ˜¯è¾…åŠ©ç´¢å¼•ï¼Œåƒå¤åˆç´¢å¼•ã€å‰ç¼€ç´¢å¼•ã€å”¯ä¸€ç´¢å¼•ã€‚

- è¾…åŠ©ç´¢å¼•å¶å­èŠ‚ç‚¹å­˜å‚¨çš„ä¸å†æ˜¯è¡Œçš„ç‰©ç†ä½ç½®ï¼Œè€Œæ˜¯ä¸»é”®å€¼ï¼Œè¾…åŠ©ç´¢å¼•è®¿é—®æ•°æ®æ€»æ˜¯éœ€è¦äºŒæ¬¡æŸ¥æ‰¾ã€‚ ï¼ˆå› ä¸ºCRUDï¼Œæ‰€ä»¥å­˜çš„æ˜¯ä¸»é”®å€¼ï¼‰

![](https://q-1306233034.cos.ap-guangzhou.myqcloud.com/company/202212220003844.png?tximg)

**InnoDB**

- InnoDBä½¿ç”¨çš„æ˜¯èšç°‡ç´¢å¼•ï¼Œå°†ä¸»é”®ç»„ç»‡åˆ°ä¸€æ£µB+æ ‘ä¸­ï¼Œè€Œè¡Œæ•°æ®å°±å‚¨å­˜åœ¨å¶å­èŠ‚ç‚¹ä¸Šï¼Œè‹¥ä½¿ç”¨"where id = 14"è¿™æ ·çš„æ¡ä»¶æŸ¥æ‰¾ä¸»é”®ï¼Œåˆ™æŒ‰ç…§B+æ ‘çš„æ£€ç´¢ç®—æ³•å³å¯æŸ¥æ‰¾åˆ°å¯¹åº”çš„å¶èŠ‚ç‚¹ï¼Œä¹‹åè·å¾—è¡Œæ•°æ®ã€‚
- è‹¥å¯¹Nameåˆ—è¿›è¡Œæ¡ä»¶æœç´¢ï¼Œåˆ™éœ€è¦ä¸¤ä¸ªæ­¥éª¤ï¼šç¬¬ä¸€æ­¥åœ¨è¾…åŠ©ç´¢å¼•B+æ ‘ä¸­æ£€ç´¢Nameï¼Œåˆ°è¾¾å…¶å¶å­èŠ‚ç‚¹è·å–å¯¹åº”çš„ä¸»é”®ã€‚ç¬¬äºŒæ­¥ä½¿ç”¨ä¸»é”®åœ¨ä¸»ç´¢å¼•B+æ ‘ç§å†æ‰§è¡Œä¸€æ¬¡B+æ ‘æ£€ç´¢æ“ä½œï¼Œæœ€ç»ˆåˆ°è¾¾å¶å­èŠ‚ç‚¹å³å¯è·å–æ•´è¡Œæ•°æ®ã€‚(é‡ç‚¹åœ¨äºé€šè¿‡å…¶ä»–é”®éœ€è¦å»ºç«‹è¾…åŠ©ç´¢å¼•)
- **èšç°‡ç´¢å¼•é»˜è®¤æ˜¯ä¸»é”®**ï¼Œå¦‚æœè¡¨ä¸­æ²¡æœ‰å®šä¹‰ä¸»é”®ï¼ŒInnoDB ä¼šé€‰æ‹©ä¸€ä¸ª**å”¯ä¸€ä¸”éç©ºçš„ç´¢å¼•**ä»£æ›¿ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„ç´¢å¼•ï¼ŒInnoDB ä¼š**éšå¼å®šä¹‰ä¸€ä¸ªä¸»é”®(ç±»ä¼¼oracleä¸­çš„RowId)**æ¥ä½œä¸ºèšç°‡ç´¢å¼•ã€‚å¦‚æœå·²ç»è®¾ç½®äº†ä¸»é”®ä¸ºèšç°‡ç´¢å¼•åˆå¸Œæœ›å†å•ç‹¬è®¾ç½®èšç°‡ç´¢å¼•ï¼Œå¿…é¡»å…ˆåˆ é™¤ä¸»é”®ï¼Œç„¶åæ·»åŠ æˆ‘ä»¬æƒ³è¦çš„èšç°‡ç´¢å¼•ï¼Œæœ€åæ¢å¤è®¾ç½®ä¸»é”®å³å¯ã€‚

**MYISAM**

- MyISAMä½¿ç”¨çš„æ˜¯éèšç°‡ç´¢å¼•ï¼Œ**éèšç°‡ç´¢å¼•çš„ä¸¤æ£µB+æ ‘çœ‹ä¸Šå»æ²¡ä»€ä¹ˆä¸åŒ**ï¼ŒèŠ‚ç‚¹çš„ç»“æ„å®Œå…¨ä¸€è‡´åªæ˜¯å­˜å‚¨çš„å†…å®¹ä¸åŒè€Œå·²ï¼Œä¸»é”®ç´¢å¼•B+æ ‘çš„èŠ‚ç‚¹å­˜å‚¨äº†ä¸»é”®ï¼Œè¾…åŠ©é”®ç´¢å¼•B+æ ‘å­˜å‚¨äº†è¾…åŠ©é”®ã€‚è¡¨æ•°æ®å­˜å‚¨åœ¨ç‹¬ç«‹çš„åœ°æ–¹ï¼Œè¿™ä¸¤é¢—B+æ ‘çš„å¶å­èŠ‚ç‚¹éƒ½ä½¿ç”¨ä¸€ä¸ªåœ°å€æŒ‡å‘çœŸæ­£çš„è¡¨æ•°æ®ï¼Œå¯¹äºè¡¨æ•°æ®æ¥è¯´ï¼Œè¿™ä¸¤ä¸ªé”®æ²¡æœ‰ä»»ä½•å·®åˆ«ã€‚ç”±äº**ç´¢å¼•æ ‘æ˜¯ç‹¬ç«‹çš„ï¼Œé€šè¿‡è¾…åŠ©é”®æ£€ç´¢æ— éœ€è®¿é—®ä¸»é”®çš„ç´¢å¼•æ ‘**ã€‚
- åå‘äºæŸ¥è¯¢ï¼Œä½†æ˜¯ä¸æ”¯æŒäº‹åŠ¡

![](https://q-1306233034.cos.ap-guangzhou.myqcloud.com/company/202212220021777.png?tximg)

##### 4.3.1 èšç°‡ç´¢å¼•çš„ä¼˜åŠ¿
-  é—®é¢˜: æ¯æ¬¡ä½¿ç”¨è¾…åŠ©ç´¢å¼•æ£€ç´¢éƒ½è¦ç»è¿‡ä¸¤æ¬¡B+æ ‘æŸ¥æ‰¾ï¼Œçœ‹ä¸Šå»èšç°‡ç´¢å¼•çš„æ•ˆç‡æ˜æ˜¾è¦ä½äºéèšç°‡ç´¢å¼•ï¼Œè¿™ä¸æ˜¯å¤šæ­¤ä¸€ä¸¾å—ï¼Ÿ**èšç°‡ç´¢å¼•çš„ä¼˜åŠ¿**åœ¨å“ªï¼Ÿ 
   -  ç”±äºè¡Œæ•°æ®å’Œèšç°‡ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜å‚¨åœ¨ä¸€èµ·ï¼ŒåŒä¸€é¡µä¸­ä¼šæœ‰å¤šæ¡è¡Œæ•°æ®ï¼Œè®¿é—®åŒä¸€æ•°æ®é¡µä¸åŒè¡Œè®°å½•æ—¶ï¼Œå·²ç»æŠŠé¡µåŠ è½½åˆ°äº†Bufferä¸­(ç¼“å­˜å™¨)ï¼Œå†æ¬¡è®¿é—®æ—¶ï¼Œä¼šåœ¨å†…å­˜ä¸­å®Œæˆè®¿é—®ï¼Œä¸å¿…è®¿é—®ç£ç›˜ã€‚è¿™æ ·ä¸»é”®å’Œè¡Œæ•°æ®æ˜¯ä¸€èµ·è¢«è½½å…¥å†…å­˜çš„ï¼Œæ‰¾åˆ°å¶å­èŠ‚ç‚¹å°±å¯ä»¥ç«‹åˆ»å°†è¡Œæ•°æ®è¿”å›äº†ï¼Œå¦‚æœæŒ‰ç…§ä¸»é”®Idæ¥ç»„ç»‡æ•°æ®ï¼Œè·å¾—æ•°æ®æ›´å¿«ã€‚
   -  è¾…åŠ©ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ï¼Œå­˜å‚¨ä¸»é”®å€¼ï¼Œè€Œä¸æ˜¯æ•°æ®çš„å­˜æ”¾åœ°å€ã€‚å¥½å¤„æ˜¯å½“è¡Œæ•°æ®æ”¾ç”Ÿå˜åŒ–æ—¶ï¼Œç´¢å¼•æ ‘çš„èŠ‚ç‚¹ä¹Ÿéœ€è¦**åˆ†è£‚å˜åŒ–**ï¼›æˆ–è€…æ˜¯æˆ‘ä»¬éœ€è¦æŸ¥æ‰¾çš„æ•°æ®ï¼Œåœ¨ä¸Šä¸€æ¬¡IOè¯»å†™çš„ç¼“å­˜ä¸­æ²¡æœ‰ï¼Œéœ€è¦å‘ç”Ÿä¸€æ¬¡æ–°çš„IOæ“ä½œæ—¶ï¼Œå¯ä»¥é¿å…å¯¹è¾…åŠ©ç´¢å¼•çš„ç»´æŠ¤å·¥ä½œï¼Œåªéœ€è¦ç»´æŠ¤èšç°‡ç´¢å¼•æ ‘å°±å¥½äº†ã€‚
   -  å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå› ä¸ºè¾…åŠ©ç´¢å¼•å­˜æ”¾çš„æ˜¯ä¸»é”®å€¼ï¼Œå‡å°‘äº†è¾…åŠ©ç´¢å¼•å ç”¨çš„å­˜å‚¨ç©ºé—´å¤§å°ã€‚ 
      -  MYISAMï¼šCRUDçš„æ—¶å€™éœ€è¦ç»´æŠ¤å¤šä¸ªç´¢å¼•è¡¨
##### 4.3.2 èšç°‡ç´¢å¼•çš„ç»†èŠ‚

> æ³¨æ„ç‚¹ï¼š

- å½“ä½¿ç”¨ä¸»é”®ä¸ºèšç°‡ç´¢å¼•æ—¶ï¼Œä¸»é”®æœ€å¥½ä¸è¦ä½¿ç”¨uuidï¼Œå› ä¸ºuuidçš„å€¼å¤ªè¿‡ç¦»æ•£ï¼Œä¸é€‚åˆæ’åºä¸”å¯èƒ½å‡ºç°æ–°å¢åŠ è®°å½•çš„uuidï¼Œä¼šæ’å…¥åœ¨ç´¢å¼•æ ‘ä¸­é—´çš„ä½ç½®ï¼Œå¯¼è‡´ç´¢å¼•æ ‘è°ƒæ•´å¤æ‚åº¦å˜å¤§ï¼Œæ¶ˆè€—æ›´å¤šçš„æ—¶é—´å’Œèµ„æºã€‚
- **å»ºè®®ä½¿ç”¨intç±»å‹çš„è‡ªå¢**
  - æ–¹ä¾¿æ’åºå¹¶ä¸”é»˜è®¤ä¼šåœ¨ç´¢å¼•æ ‘çš„æœ«å°¾å¢åŠ ä¸»é”®å€¼ï¼Œå¯¹ç´¢å¼•æ ‘çš„ç»“æ„å½±å“æœ€å°ã€‚
  - ä¸»é”®å€¼å ç”¨çš„å­˜å‚¨ç©ºé—´è¶Šå¤§ï¼Œè¾…åŠ©ç´¢å¼•ä¸­ä¿å­˜çš„ä¸»é”®å€¼ä¹Ÿä¼šè·Ÿç€å˜å¤§ï¼Œå ç”¨å­˜å‚¨ç©ºé—´ï¼Œä¹Ÿä¼šå½±å“åˆ°IOæ“ä½œè¯»å–åˆ°çš„æ•°æ®é‡ã€‚
- ä¸ºä»€ä¹ˆä¸»é”®é€šå¸¸**å»ºè®®ä½¿ç”¨è‡ªå¢id**ï¼Ÿ
  - èšç°‡ç´¢å¼•çš„æ•°æ®çš„ç‰©ç†å­˜æ”¾é¡ºåºä¸ç´¢å¼•é¡ºåºæ˜¯ä¸€è‡´çš„ï¼Œå³ï¼šåªè¦ç´¢å¼•æ˜¯ç›¸é‚»çš„ï¼Œé‚£ä¹ˆå¯¹åº”çš„æ•°æ®ä¸€å®šä¹Ÿæ˜¯ç›¸é‚»åœ°å­˜æ”¾åœ¨ç£ç›˜ä¸Šçš„ã€‚
  - å¦‚æœä¸»é”®ä¸æ˜¯è‡ªå¢idï¼Œé‚£ä¹ˆå¯ä»¥æƒ³è±¡ï¼Œå®ƒä¼šå¹²äº›ä»€ä¹ˆï¼Œä¸æ–­åœ°è°ƒæ•´æ•°æ®çš„ç‰©ç†åœ°å€ã€åˆ†é¡µï¼Œå½“ç„¶ä¹Ÿæœ‰å…¶ä»–ä¸€äº›æªæ–½æ¥å‡å°‘è¿™äº›æ“ä½œï¼Œä½†å´æ— æ³•å½»åº•é¿å…ã€‚ä½†ï¼Œå¦‚æœæ˜¯è‡ªå¢çš„ï¼Œé‚£å°±ç®€å•äº†ï¼Œå®ƒåªéœ€è¦ä¸€é¡µä¸€é¡µåœ°å†™ï¼Œç´¢å¼•ç»“æ„ç›¸å¯¹ç´§å‡‘ï¼Œç£ç›˜ç¢ç‰‡å°‘ï¼Œæ•ˆç‡ä¹Ÿé«˜ã€‚
- bigintç›¸å¯¹intï¼Œå“ªä¸ªæ›´å¥½ï¼Ÿ
  - äº’è”ç½‘ä¸šåŠ¡å¯èƒ½ä¼šç”¨åˆ°bigintä½œä¸ºä¸»é”®
  - ä¸€èˆ¬ä¸šåŠ¡æ¨èè‡ªå¢ä¸»é”®ä½¿ç”¨int unsignedç±»å‹ï¼Œä¸Šé™ä¸º42äº¿ï¼Œè¿™ä¸ªé¢„ç•™é‡å·²ç»æ˜¯éå¸¸çš„å……è¶³äº†ï¼Œå¾ˆå¤šä¸šåŠ¡æ ¹æœ¬ç”¨ä¸åˆ°è¿™ä¹ˆå¤§çš„è¡¨



### 5. æ— æ³•åˆ©ç”¨ç´¢å¼•æƒ…å†µ

-  æŸ¥è¯¢è¯­å¥ä¸­ä½¿ç”¨LIKEå…³é”®å­— 
   -  åœ¨æŸ¥è¯¢è¯­å¥ä¸­ä½¿ç”¨ LIKE å…³é”®å­—è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œå¦‚æœåŒ¹é…å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ºâ€œ%â€ï¼Œç´¢å¼•ä¸ä¼šè¢«ä½¿ç”¨ã€‚å¦‚æœâ€œ%â€ä¸æ˜¯åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œç´¢å¼•å°±ä¼šè¢«ä½¿ç”¨ã€‚
-  æŸ¥è¯¢è¯­å¥ä¸­ä½¿ç”¨å¤šåˆ—ç´¢å¼• 
   -  å¤šåˆ—ç´¢å¼•æ˜¯åœ¨è¡¨çš„å¤šä¸ªå­—æ®µä¸Šåˆ›å»ºä¸€ä¸ªç´¢å¼•ï¼Œåªæœ‰æŸ¥è¯¢æ¡ä»¶ä¸­ä½¿ç”¨äº†è¿™äº›å­—æ®µä¸­çš„ç¬¬ä¸€ä¸ªå­—æ®µï¼Œç´¢å¼•æ‰ä¼šè¢«ä½¿ç”¨ã€‚
   -  ã€ä¾‹å­ã€‘ç»™ä½ ä¸€å¼ èœå•ï¼Œä½ ä¸æŒ‰ç€å·èœç²¤èœæ¹˜èœå¾€ä¸‹æŸ¥ï¼Œç›´æ¥å°±æ‰¾æœ‰å‡ ç§ç±³é¥­çš„åšæ³•ï¼Œè¿™è‚¯å®šç”¨ä¸ä¸Šæˆ‘ç»™çš„ç´¢å¼•äº†ã€‚å¾—å†å»ºç«‹ä¸€ä¸ªç´¢å¼•äº†ã€‚
-  æŸ¥è¯¢è¯­å¥ä¸­ä½¿ç”¨ORå…³é”®å­— 
   -  æŸ¥è¯¢è¯­å¥åªæœ‰ORå…³é”®å­—æ—¶ï¼Œå¦‚æœORå‰åçš„ä¸¤ä¸ªæ¡ä»¶çš„åˆ—éƒ½æ˜¯ç´¢å¼•ï¼Œé‚£ä¹ˆæŸ¥è¯¢ä¸­å°†ä½¿ç”¨ç´¢å¼•ã€‚å¦‚æœORå‰åæœ‰ä¸€ä¸ªæ¡ä»¶çš„åˆ—ä¸æ˜¯ç´¢å¼•ï¼Œé‚£ä¹ˆæŸ¥è¯¢ä¸­å°†ä¸ä½¿ç”¨ç´¢å¼•ã€‚ 



### 6. explain

> å®˜æ–¹æ–‡æ¡£ï¼šhttps://dev.mysql.com/doc/refman/5.7/en/explain-output.html

åˆ¤æ–­æ˜¯å¦ä½¿ç”¨ç´¢å¼•

![image-20230202104822978](C:/Doc/typora_pic/image-20230202104822978.png)



| å­—æ®µ     |      |                                                              |
| -------- | ---- | ------------------------------------------------------------ |
| id       |      |                                                              |
| type     |      | [link](https://dev.mysql.com/doc/refman/5.7/en/explain-output.html#explain-join-types) |
| key      |      |                                                              |
| key_len  |      | è¶Šå°è¶Šå¥½                                                     |
| ref      |      |                                                              |
| filtered |      |                                                              |

é¦–å…ˆæˆ‘ä»¬è¦äº†è§£mysqlæŸ¥è¯¢ä¼˜åŒ–å™¨çš„æ‰§è¡Œæ•ˆç‡ï¼Œå¤§çº¦æœ‰10ä¸ªï¼Œé‡ç‚¹å‡ ä¸ªä¸»è¦å°±æ˜¯constï¼Œrefï¼Œrange ï¼Œindexï¼Œallã€‚Constæ•ˆç‡æ˜¯æœ€å—çš„ï¼Œæˆæœ¬å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä¸»è¦é€šè¿‡ä¸»é”®æˆ–è€…å”¯ä¸€å€¼æŸ¥è¯¢çš„sqlã€‚è¿˜æœ‰æ¯”constæ›´å¿«çš„systemï¼Œè¿™ç§æ—¶å€™å¿…é¡»æ˜¯mysqlä¼˜åŒ–å™¨å†…éƒ¨ç²¾ç¡®è®¡ç®—æŸ¥è¯¢æˆæœ¬ï¼Œæ‰€ä»¥systemä¸é€‚ç”¨äºinnoDBï¼Œåªé€‚ç”¨äºmyISAMã€‚Refä»£è¡¨ç”¨çš„æ˜¯ç´¢å¼•b+treeæŸ¥è¯¢çš„æ—¶å€™ï¼Œæ¯”å¦‚ç”¨è¿æ¥æŸ¥è¯¢çš„æ—¶å€™ï¼Œè¿æ¥æŸ¥è¯¢çš„æ¡ä»¶æ˜¯ç´¢å¼•å”¯ä¸€å€¼ï¼Œè¿™æ—¶å€™è¿˜åˆ†ä¸ºeq-refï¼Œer-efæ˜¯å½“è¢«é©±åŠ¨è¡¨æŸ¥è¯¢çš„æ˜¯ä¸»é”®æˆ–è€…å”¯ä¸€äºŒçº§ç´¢å¼•çš„æ—¶å€™ï¼Œè¿™æ—¶å€™å°±æ˜¯æ˜¾ç¤ºeq-refã€‚å½“è¿æ¥è¡¨çš„æ¡ä»¶æ˜¯æ™®é€šç´¢å¼•æŸ¥è¯¢çš„æ—¶å€™ï¼Œè¿™æ—¶å€™æ˜¾ç¤ºå°±æ˜¯refï¼Œrangeé¡¾åæ€ä¹‰å°±æ˜¯ç´¢å¼•åŒºé—´æŸ¥è¯¢çš„æ—¶å€™ï¼Œindexä»£è¡¨æŸ¥è¯¢è¦†ç›–ç´¢å¼•çš„æ—¶å€™ï¼Œallå°±æ˜¯æ”¾å¼ƒç´¢å¼•å…¨ç›˜æ‰«æäº†ã€‚

é¦–å…ˆæˆ‘ä»¬æ˜ç™½Semi-joinä½¿ç”¨æ¡ä»¶åœ¨whereæˆ–è€…onåé¢ï¼Œå¿…é¡»inå¸ƒå°”ç»„æˆï¼Œè€Œä¸”å¿…é¡»æ˜¯andè¿æ¥ã€‚

ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯idï¼Œç†è®ºä¸Šå‡ ä¸ªselectå°±æœ‰å‡ ä¸ªidï¼Œä½†å½“mysqlä¼˜åŒ–å™¨ä¼˜åŒ–æˆå†…è¿æ¥çš„æ—¶å€™ï¼Œè¿™æ—¶å€™åªæœ‰ä¸€ä¸ªidã€‚

ç¬¬äºŒä¸ªå‚æ•°æ˜¯select typeï¼Œè¿™é‡Œæœ‰simpleï¼Œåªè¦ä¸åŒ…å«å­æŸ¥è¯¢æˆ–è€…unionéƒ½ç®—æ˜¯simpleï¼Œå½“æœ‰unionçš„æ—¶å€™ï¼Œæœ€å·¦è¾¹æŸ¥è¯¢æ˜¾ç¤ºselect typeæ˜¯primaryï¼Œå³è¾¹åˆ™æ˜¯unionç±»å‹ï¼Œunionè¿˜æœ‰union resultç±»å‹ï¼Œå½“unionå»é‡çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸´æ—¶è¡¨ç”¨æ¥å»é‡ï¼Œè¿™æ—¶å€™å°±æ˜¾ç¤ºunion resultã€‚ä»¥åŠè¿˜æœ‰ç›¸å…³å­æŸ¥è¯¢unionå’Œä¸ç›¸å…³å­æŸ¥è¯¢ã€‚è¿˜æœ‰fromåé¢è¿æ¥selectçš„æ´¾ç”ŸæŸ¥è¯¢ï¼Œderivedã€‚å½“å§å­æŸ¥è¯¢ç‰©åŒ–åï¼Œå­æŸ¥è¯¢åœ¨ä¸å¤–éƒ¨é“¾æ¥ï¼Œè¿™æ—¶å€™å°±æ˜¯ç‰©åŒ–æŸ¥è¯¢ã€‚

Possible keyæ˜¯å¯èƒ½ç”¨åˆ°çš„ç´¢å¼•ï¼Œåœ¨è®¡ç®—æˆæœ¬çš„æ—¶å€™ï¼Œä¼šæ ¹æ®ä½¿ç”¨å…¨éƒ¨æŸ¥è¯¢è¿˜æ˜¯ç´¢å¼•æŸ¥è¯¢æ•ˆç‡æ›´é«˜ï¼Œå½“å›è¡¨çš„æˆæœ¬å¤ªé«˜ï¼Œä¼šä½¿ç”¨å…¨è¡¨æŸ¥è¯¢ï¼Œæ‰€ä»¥possible keyä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œè€Œkeyå°±æ˜¯å®é™…æŸ¥è¯¢ä½¿ç”¨åˆ°çš„ç´¢å¼•ï¼Œkey_lenä»£è¡¨é•¿åº¦ï¼Œå¯ä»¥æ ¹æ®å½“å‰è¡¨çš„å­—ç¬¦é›†æ¥è®¡ç®—å‡ºç´¢å¼•é•¿åº¦ï¼Œæ¯”å¦‚varchar100ï¼Œutf8 æ˜¯å­—ç¬¦é›†1~3ï¼Œåˆ™æ˜¯100*3ã€‚

Refè¿™åˆ—ï¼Œå½“æŸ¥è¯¢çš„typeæ˜¯ä¸Šé¢ çš„constï¼Œrefï¼Œindexå…¶ä¸­ä¹‹ä¸€çš„æ—¶å€™ï¼Œæ˜¾ç¤ºçš„æ˜¯constï¼Œå½“ä½¿ç”¨å‡½æ•°çš„æ—¶å€™ï¼Œæ˜¾ç¤ºçš„usering conditionã€‚

Rowså°±ä»£è¡¨æŸ¥è¯¢äº†å¤šå°‘è¡Œæ‰è·å–åˆ°æ•°æ®ï¼Œå½“allçš„æ—¶å€™ä»£è¡¨è¦æŸ¥è¯¢æ‰€æœ‰çš„è¡Œæ•°ã€‚

Filteredè¿‡æ»¤æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯å•è¡¨æŸ¥è¯¢ï¼Œå½“æœ‰ç´¢å¼•å’Œéç´¢å¼•æŸ¥è¯¢ï¼Œè¿™é‡Œå¦‚æœæ˜¾ç¤º10ï¼Œåˆ™ä»£è¡¨è¿‡æ»¤å®Œç´¢å¼•ä¹‹åï¼Œç™¾åˆ†ä¹‹10çš„æ•°æ®æ»¡è¶³éç´¢å¼•æ¡ä»¶æŸ¥è¯¢ã€‚å½“unionè”åˆæŸ¥è¯¢çš„æ—¶å€™ï¼Œè¿™ç§æ˜¯è¡¨ç¤ºé©±åŠ¨è¡¨çš„æ‰‡å‡ºå€¼ï¼Œè¢«é©±åŠ¨è¡¨æ»¡è¶³ç™¾åˆ†ä¹‹10çš„æ•°æ®ï¼Œå’Œrowsç»„åˆå¯ä»¥è®¡ç®—å‡ºæ‰‡å‡ºå€¼ã€‚

Extraé¡¾åæ€ä¹‰ï¼Œè®°å½•é¢å¤–æ•°æ®çš„åœ°æ–¹ï¼Œæ¯”å¦‚sqlé‡Œé¢æ²¡æœ‰å†™è¡¨ï¼Œä¼šæ˜¾ç¤ºno tableï¼Œå½“æœ‰å‡½æ•°maxï¼Œminçš„æ—¶å€™ä¹Ÿä¼šæ˜¾ç¤ºï¼Œå½“è¦†ç›–ç´¢å¼•çš„æ—¶å€™ï¼Œæ˜¾ç¤ºuseing indexã€‚


